import{m as s,n as u,g}from"./index-CA3EcmWk.js";const i=s.injectEndpoints({endpoints:t=>({login:t.mutation({query:a=>({url:"/auth/signin",method:"POST",body:{...a}})}),sendLogout:t.mutation({query:()=>({url:"/auth/logout",method:"POST"}),async onQueryStarted(a,{dispatch:o,queryFulfilled:r}){try{const{data:e}=await r;console.log("I am barber logout slice ",e==null?void 0:e.message),o(u()),setTimeout(()=>{o(s.util.resetApiState())},1e3)}catch(e){console.log(e)}}}),refresh:t.mutation({query:()=>({url:"/auth/refresh",method:"GET"}),async onQueryStarted(a,{dispatch:o,queryFulfilled:r}){try{const{data:e}=await r;console.log(e);const{accessToken:n}=e;o(g({accessToken:n}))}catch(e){console.log(e)}}}),barberLoggedIn:t.query({query:()=>({url:"/auth/barberloggedin",method:"GET"})})})}),{useLoginMutation:l,useBarberLoggedInQuery:h,useRefreshMutation:m,useSendLogoutMutation:y}=i;export{y as a,h as b,m as c,l as u};
