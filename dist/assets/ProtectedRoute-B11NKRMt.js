import{d as p,f as j,r as t,j as e,L as y,O as a}from"./index-CA3EcmWk.js";import{f as k}from"./authApiSlice-Br-9cT0Y.js";const S=()=>{var o;const n=p(j),i=t.useRef(!1),[f,l]=t.useState(!1),[d,{isUninitialized:u,isLoading:h,isSuccess:x,isError:m,error:r}]=k(),g="production";t.useEffect(()=>((i.current===!0||g!=="development")&&(n||(async()=>{console.log("verifying refresh token");try{const{data:c}=await d();l(!0)}catch(c){console.error(c)}})()),()=>i.current=!0),[]);let s;return h?s=e.jsx("h1",{children:"Loader"}):m?s=e.jsxs(e.Fragment,{children:[e.jsxs("main",{style:{padding:"2rem",height:"100vh",width:"100%",background:"#efefef"},children:[e.jsx("h1",{style:{color:"crimson",background:"#fff",width:"30rem",height:"4.5rem",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 0px 4px rgba(0,0,0,0.6)",borderRadius:"5px"},children:(o=r==null?void 0:r.data)==null?void 0:o.message}),e.jsx(y,{to:"/admin-signin",children:e.jsx("h1",{style:{marginTop:"2rem",color:"red"},children:"Please Login Again"})})]}),e.jsx("div",{})]}):x&&f?s=e.jsx(a,{}):n&&u&&(s=e.jsx(a,{})),s};export{S as default};
