import{r as n,u as m,a as p,j as s,L as x,g as j}from"./index-CA3EcmWk.js";import{u as v}from"./barberauthApiSlice-B5SzINdS.js";const _=()=>{const[i,o]=n.useState(""),[r,c]=n.useState(""),[S,a]=n.useState(""),l=m(),d=p();n.useEffect(()=>{a("")},[i,r]);const[u,{isLoading:g}]=v(),h=async()=>{var t;try{const{accessToken:e}=await u({email:i,password:r}).unwrap();d(j({accessToken:e})),console.log(e),o(""),c(""),localStorage.setItem("AdminLoggedIn","false"),localStorage.setItem("BarberLoggedIn","true"),l("/barber-dashboard")}catch(e){e.status?e.status===400?a("Missing Email or Password"):e.status===401?a("Unauthorized"):a((t=e.data)==null?void 0:t.message):a("No Server Response")}};return s.jsx("main",{className:"admin__signin__main",children:s.jsxs("div",{className:"admin__signin__div",children:[s.jsx("h1",{children:"Sign In To Your Barber Account"}),s.jsxs("div",{children:[s.jsx("h1",{children:"Email"}),s.jsx("input",{type:"text",placeholder:"Enter Email",value:i,onChange:t=>o(t.target.value)})]}),s.jsxs("div",{children:[s.jsx("h1",{children:"Password"}),s.jsx("input",{type:"text",placeholder:"Enter Password",value:r,onChange:t=>c(t.target.value)})]}),g?s.jsx("button",{children:"Loader"}):s.jsx("button",{onClick:h,children:"Signin"}),s.jsx(x,{to:"/barber-signup",children:"Signup"})]})})};export{_ as default};
