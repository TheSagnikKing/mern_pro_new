import{c as E,d as N,e as _,r as o,u as y,j as a}from"./index-CA3EcmWk.js";import{d as C}from"./authApiSlice-Br-9cT0Y.js";const w=E.injectEndpoints({endpoints:e=>({uploadAdminImage:e.mutation({query:s=>({url:"/other/admin/image/upload",method:"POST",body:s}),invalidatesTags:["Admin"]})})}),{useUploadAdminImageMutation:M}=w,L=()=>{var h,x;const e=N(_),[s,f]=o.useState(""),[i,l]=o.useState(""),[n,d]=o.useState(""),[r,p]=o.useState("");console.log(e),o.useEffect(()=>{e&&(f(e==null?void 0:e.email),l(e==null?void 0:e.name),d(e==null?void 0:e.mobileNumber),p(e==null?void 0:e.gender))},[e]);const[g,{data:D,isSuccess:c,isLoading:U,isError:Y,isFetching:k,error:F}]=C(),u=y();o.useEffect(()=>{c&&(u("/admin-dashboard"),window.location.reload())},[u,c]);const j=()=>{g({email:s,name:i,mobileNumber:n,gender:r})};console.log((h=e==null?void 0:e.profile[0])==null?void 0:h.url);const[b,{data:G,isSuccess:I,isFetching:P,isError:z,error:R}]=M(),[m,v]=o.useState("");console.log(m);const S=()=>{const t=new FormData;t.append("email",e==null?void 0:e.email),t.append("profile",m),b(t)};return a.jsx("main",{className:"admin__edit__main",children:a.jsxs("div",{className:"admin__edit__main__div",children:[a.jsx("h1",{children:"Edit Your Admin Profile"}),a.jsxs("div",{children:[a.jsx("h1",{children:"Email"}),a.jsx("input",{type:"text",value:s})]}),a.jsxs("div",{children:[a.jsx("h1",{children:"Name"}),a.jsx("input",{type:"text",placeholder:"Enter Your Name",value:i,onChange:t=>l(t.target.value)})]}),a.jsxs("div",{children:[a.jsx("h1",{children:"Mobile Number"}),a.jsx("input",{type:"text",placeholder:"Enter Your Mobile Number",value:n,onChange:t=>d(t.target.value)})]}),a.jsxs("div",{children:[a.jsx("h1",{children:"Gender"}),a.jsx("input",{type:"text",placeholder:"Enter Your Gender",value:r,onChange:t=>p(t.target.value)})]}),a.jsxs("div",{children:[a.jsx("input",{type:"file",onChange:t=>v(t.target.files[0])}),a.jsx("button",{onClick:S,style:{height:"3.5rem",width:"10rem",background:"#f1f6fc",boxShadow:"0px 0px 6px rgba(0,0,0,0.6)",cursor:"pointer",borderRadius:"5px",border:"none",fontSize:"1.2rem"},children:a.jsx("p",{style:{fontSize:"1.2rem"},children:"Upload"})})]}),a.jsx("div",{className:"ad_profile",children:a.jsx("img",{src:(x=e==null?void 0:e.profile[0])!=null&&x.url?`${e.profile[0].url}?f_webp`:"",alt:""})}),a.jsx("button",{onClick:j,children:"Update"})]})})};export{L as default};
